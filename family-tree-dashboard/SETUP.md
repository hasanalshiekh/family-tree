# تعليمات تشغيل نظام شجرة العائلة

## المتطلبات الأساسية

1. **PHP 8.1 أو أحدث**
2. **Composer** (لإدارة التبعيات)
3. **خادم ويب** (Apache/Nginx) أو استخدام PHP المدمج
4. **قاعدة بيانات SQLite** (مدمجة مع PHP)

## خطوات التشغيل

### 1. تثبيت التبعيات

```bash
composer install
```

### 2. إعداد البيئة

```bash
# نسخ ملف البيئة
cp env.example .env

# توليد مفتاح التطبيق
php artisan key:generate
```

### 3. إعداد قاعدة البيانات

```bash
# إنشاء ملف قاعدة البيانات SQLite
touch database/database.sqlite

# تشغيل الهجرات
php artisan migrate
```

### 4. تشغيل الخادم

```bash
php artisan serve
```

افتح المتصفح على: `http://localhost:8000`

## استخدام النظام

### إنشاء عائلة جديدة
1. اضغط على "إنشاء عائلة جديدة"
2. أدخل اسم العائلة ووصفاً (اختياري)
3. اضغط "إنشاء العائلة"

### إضافة الأعضاء
1. من الداش بورد، اضغط "إضافة عضو جديد"
2. أدخل المعلومات الأساسية (الاسم، الجنس)
3. حدد الأب والأم إذا كانا موجودين
4. أدخل التواريخ والملاحظات
5. اضغط "حفظ العضو"

### عرض الشجرة
1. اضغط "عرض الشجرة" من الداش بورد
2. استخدم أزرار التكبير والتصغير
3. يمكنك تحميل الشجرة كصورة

### مشاركة الشجرة
1. اضغط "نسخ رابط المشاركة" من الداش بورد
2. شارك الرابط مع أقاربك
3. يمكنهم رؤية الشجرة بدون تسجيل دخول

### تصدير PDF
1. اضغط "تصدير PDF" من الداش بورد
2. سيتم تحميل ملف PDF للشجرة

## استكشاف الأخطاء

### خطأ في قاعدة البيانات
```bash
# تأكد من وجود ملف قاعدة البيانات
ls -la database/database.sqlite

# إعادة تشغيل الهجرات
php artisan migrate:fresh
```

### خطأ في الصلاحيات
```bash
# إعطاء صلاحيات الكتابة للمجلدات
chmod -R 755 storage/
chmod -R 755 bootstrap/cache/
```

### خطأ في Composer
```bash
# تحديث Composer
composer self-update

# إعادة تثبيت التبعيات
rm -rf vendor/
composer install
```

## الميزات المتاحة

- ✅ واجهة عربية كاملة
- ✅ إدخال البيانات عبر جدول بسيط
- ✅ مجاني حتى 5 أسماء
- ✅ عرض الشجرة تلقائياً
- ✅ مشاركة الشجرة عبر رابط آمن
- ✅ تصدير الشجرة كصورة و PDF
- ✅ تصميم متجاوب (Responsive)
- ✅ سهولة الاستخدام بدون خبرة تقنية

## التخصيص

### تغيير الحد الأقصى للأعضاء
في ملف `app/Models/Family.php`:

```php
public function canAddMoreMembers()
{
    return $this->getMembersCount() < 5; // غيّر الرقم هنا
}
```

### تخصيص ألوان الأجيال
في ملفات العرض، ابحث عن `getGenerationColor` وغيّر الألوان.

## الدعم

إذا واجهت أي مشاكل، تأكد من:
1. إصدار PHP الصحيح (8.1+)
2. وجود جميع التبعيات
3. صلاحيات الملفات الصحيحة
4. إعدادات قاعدة البيانات

---

**تم التطوير بـ ❤️ باستخدام Laravel**
